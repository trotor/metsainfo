<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metsäinfo - Suomen metsävaratiedot kartalla</title>
    <meta name="description" content="Interaktiivinen karttasovellus Suomen metsävaratietojen tarkasteluun. Hae kiinteistötunnuksella tai klikkaa kartalta.">
    <meta name="author" content="Tero Rönkkö">

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <!-- Proj4js for coordinate transformations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.9.0/proj4.min.js"></script>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- Version info -->
    <script src="version.js"></script>

    <!-- Custom styles -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header id="header">
            <h1>Metsäinfo <span id="version-badge"></span></h1>
            <p>Suomen metsävaratiedot kartalla - hae kiinteistötunnuksella tai klikkaa karttaa</p>
        </header>

        <!-- Map container -->
        <div id="map"></div>

        <!-- Info panel -->
        <div id="info-panel" class="hidden">
            <button id="close-panel" aria-label="Sulje">&times;</button>
            <h2>Metsävaratiedot</h2>
            <div id="loading" class="hidden">
                <div class="spinner"></div>
                <p>Haetaan tietoja...</p>
            </div>
            <div id="info-content"></div>
        </div>

        <!-- Search control -->
        <div id="search-control">
            <input type="text" id="search-input" placeholder="Hae kiinteistötunnuksella (esim. 91-416-1-123)">
            <button id="search-button">Hae</button>
            <div id="search-error" class="hidden"></div>
        </div>

        <!-- Layer controls -->
        <div id="layer-controls">
            <label>
                <input type="checkbox" id="toggle-forest" checked>
                Metsäkuviot
            </label>
        </div>

        <!-- Footer -->
        <footer id="footer">
            <p>
                <span id="author-info"></span> |
                Metsätiedot: <a href="https://www.metsakeskus.fi/fi/avoin-metsa-ja-luontotieto" target="_blank">Metsäkeskus</a> |
                Kartta: <a href="https://www.openstreetmap.org/copyright" target="_blank">OSM</a> |
                Kiinteistöt: <a href="https://www.maanmittauslaitos.fi/" target="_blank">MML</a>
            </p>
        </footer>
    </div>

    <!-- Application script -->
    <script src="app.js"></script>
    <script>
        // Display version info
        document.getElementById('version-badge').textContent = 'v' + VERSION.number;
        document.getElementById('author-info').innerHTML = '© ' + VERSION.author + ' ' + new Date().getFullYear();
    </script>
</body>
</html>
